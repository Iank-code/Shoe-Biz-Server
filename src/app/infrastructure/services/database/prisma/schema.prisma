generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgres://ian:mose@123@localhost/shoebiz"
}

model newsletter{
  id          String @id @default(uuid())
  email       String @unique
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
}

model Customer{
  id                        String @id @default(uuid())
  name                      String
  email                     String @unique
  password                  String
  profileImage              String?
  phoneNumber               String? @unique
  otp                       String?
  confirmedEmail            Boolean?
  order                      Order[]
  created_at                DateTime  @default(now())
  updated_at                DateTime? @updatedAt
}

model Order{
  id                        String @id @default(uuid())
  user                      Customer @relation(fields: [customerId], references: [id])
  customerId                String

  customerOrderInfo         CustomerOrder[]
  created_at                DateTime  @default(now())
  updated_at                DateTime? @updatedAt
}

model CustomerOrder{
  id                        String @id @default(uuid())
  shoeSize                  String
  units                     String
  productsInfo              Product[]
  order                     Order @relation(fields: [order_id], references: [id])
  order_id                  String
  created_at                DateTime @default(now())
  updated_at                DateTime? @updatedAt
}

model Product{
  id                        String @id @default(uuid())
  name                      String
  description               String
  oldPrice                  String?
  newPrice                  String
  shoeSize                  String[]
  images                    String[]
  tag                       String[]
  order                     CustomerOrder? @relation(fields: [customerOrder_Id], references: [id])
  customerOrder_Id                   String?
  created_at                DateTime  @default(now())
  updated_at                DateTime? @updatedAt
}